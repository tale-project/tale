# ============================================================================
# Tale Platform - Environment Configuration
# ============================================================================
# Copy this file to .env and fill in your values
# Generate secrets with: openssl rand -base64 32 (for base64) or openssl rand -hex 32 (for hex)

# ============================================================================
# REQUIRED: Domain Configuration
# ============================================================================
# DOMAIN: Full URL with protocol (used for external links, emails, etc.)
# DOMAIN_HOST: Hostname only, without protocol (used for Docker networking)
#
# Examples:
#   Production:
#     DOMAIN=https://demo.tale.dev
#     DOMAIN_HOST=demo.tale.dev
#   Development:
#     DOMAIN=http://localhost
#     DOMAIN_HOST=localhost
DOMAIN=http://localhost
DOMAIN_HOST=localhost

# ============================================================================
# REQUIRED: Security Secrets
# ============================================================================
# Generate with: openssl rand -base64 32
BETTER_AUTH_SECRET=SB53GlYc8RaMU+stOmOWXtRU8JEyOQItpBNK5b03Aco=
# Generate with: openssl rand -hex 32
ENCRYPTION_SECRET_HEX=3143246f44def075d40141fb849faffcf409fbbeb7a282a3a7c2f4396f2ed232

# ============================================================================
# REQUIRED: API Keys
# ============================================================================
# OpenRouter API configuration (recommended). Get your API key at https://openrouter.ai
# EMBEDDING_DIMENSIONS controls the embedding vector size used by RAG/vector search.
# When using custom embedding models or providers, you MUST set EMBEDDING_DIMENSIONS
# to match your vector store's configured dimension (for example, 3072 for
# text-embedding-3-large).
OPENAI_BASE_URL=https://openrouter.ai/api/v1
OPENAI_API_KEY=your-openrouter-api-key
OPENAI_MODEL=moonshotai/kimi-k2-0905:exacto
OPENAI_CODING_MODEL=moonshotai/kimi-k2-0905:exacto
OPENAI_EMBEDDING_MODEL=openai/text-embedding-3-large
# Vision model for image analysis (defaults to OPENAI_MODEL if not set)
# Recommended: qwen/qwen3-vl-32b-instruct (high quality vision model)
# Alternative: openai/gpt-4o (higher quality but more expensive)
OPENAI_VISION_MODEL=qwen/qwen3-vl-32b-instruct
# BAML model for knowledge graph extraction (defaults to OPENAI_MODEL if not set)
# Use a non-thinking model to avoid JSON truncation issues with reasoning models
BAML_LLM_MODEL=moonshotai/kimi-k2-0905:exacto
# EMBEDDING_DIMENSIONS=3072

# ============================================================================
# OPTIONAL: Database Configuration
# ============================================================================
# Change the database password in production
DB_PASSWORD=tale_password_change_me

# ============================================================================
# OPTIONAL: Convex Instance Configuration
# ============================================================================
# Generate with: openssl rand -hex 32
INSTANCE_SECRET=0516d5cddc8b9bbc01238b8696f13c711983f45f6dc4dbf9dc66ba42fc16f504

 